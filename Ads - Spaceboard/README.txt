Основная функция 
ad2.m
запуск: 
[TABLE, whichcity] = ad2();

Данные о городах хранятся в addata.mat (все города с населением более 1 млн. чел, модифицированные с учетом диаметра пятна освещенности. Для изменения можно запустить

[cdbmodified, poplatlon] = popmodify(census, dspot)
census - ценз по населению
dspot - диаметр пятна

Если ad2 не видит файла addata.mat, то это будет сделано автоматически с параметрами по умолчанию (1 млн, 50 км)

Входные параметры в ad2 можно передавать парами типа "название, значение". Список параметров приведен ниже (в скобках - значения по умолчанию)
            census - ценз по населению (если нет addata.mat) (1е06)
            dspot - диаметр пятна, км (если нет addata.mat) (50)
            ini0 - начальное положение референсной орбиты [a(км), e, omega(рад), Omega(рад), i(рад), u(рад)] (6878.14 0 0 60deg 97.6deg 0)
            alt - высота круговой орбиты, км (550)
            elevcrit - критический угол места для показа рекламы, град (13)
            t - массив значений времени, сек (0:15:86400 * 30)
            gd0 - начальная дата [год месяц день час минута секунда] ([2018 2 20 12 0 0])
            silentmode - строить ли графики/визуализацию (0)
            showpic - для какого кадра стротиь визуализацию, номер шага (0 - не строить)

Выходные данные: таблица формата:
Номер показа - Название города - Местное время показа - Длительность показа (сек) - количество людей в пятне - угол перенацеливания (от надира или от предыдущего показа, если непрерывно) - номер шага, соответствующий началу показа